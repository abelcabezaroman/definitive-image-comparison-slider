"use strict";!function(t){var e={container:null,filters:null,hideTexts:null,textPosition:"top",linesOrientation:"horizontal",rotate:0};function c(t){this.options=r.extend({},[e,t],{clearEmpty:!0}),this.container=this.options.container,this._setOrientation(this.options.linesOrientation,this.container),this.images=this._getImages(),this.sliders=[],(this._activeSlider=null)==this.container&&console.error("Container element not found!"),this._build(),this.sections=this._getSections(),this._setEvents()}c.prototype._build=function(){var t=this;t._applyGlobalClass(t.options);var e=t.images.length;t.options.container.style.height="".concat(t._calcContainerHeight(),"px");for(var i=t.container[t.config.offsetSizeField]/e,o=0;o<e;o++){var n=t.images[o],s=t._createElement("div","b-dics__section"),c=t._createElement("div","b-dics__image-container"),l=t._createElement("div","b-dics__slider");t._applyFilter(n,o,t.options.filters),t._createAltText(n,c),t._rotate(n,c),s.setAttribute("data-function","b-dics__section"),s.style[this.config.sizeField]="".concat(i,"px"),l.style[this.config.positionField]="".concat(i*(o+1),"px"),this.sliders.push(l),n.classList.add("b-dics__image"),s.appendChild(c),c.appendChild(n),o<e-1&&s.appendChild(l),t.container.appendChild(s),n.style[this.config.positionField]="".concat(o*-i,"px")}},c.prototype._getImages=function(){return this.container.querySelectorAll("img")},c.prototype._getSections=function(){return this.container.querySelectorAll('[data-function="b-dics__section"]')},c.prototype._createElement=function(t,e){var i=document.createElement(t);return i.classList.add(e),i},c.prototype._setEvents=function(){var c=this;c._disableImageDrag();var l=function(t){var e=c._calcPosition(t);if(console.log("##ABEL## >> listener >>  listener",c.sections[c._activeSlider+1][c.config.offsetPositionField]),console.log("##ABEL## >> listener >>  listener",c.sections[c._activeSlider+1][c.config.offsetSizeField]),console.log("##ABEL## >> listener >>  listener",e<c.sections[c._activeSlider+1][c.config.offsetPositionField]+c.sections[c._activeSlider+1][c.config.offsetSizeField]&&(0===c._activeSlider||e>c.sections[c._activeSlider-1][c.config.offsetPositionField]+c.sections[c._activeSlider-1][c.config.offsetSizeField])),console.log("##ABEL## >> listener >>  listener",e<c.sections[c._activeSlider+1][c.config.offsetPositionField]+c.sections[c._activeSlider+1][c.config.offsetSizeField]),e<c.sections[c._activeSlider+1][c.config.offsetPositionField]+c.sections[c._activeSlider+1][c.config.offsetSizeField]&&(0===c._activeSlider||e>c.sections[c._activeSlider-1][c.config.offsetPositionField]+c.sections[c._activeSlider-1][c.config.offsetSizeField])){var i=c._beforeSectionsWidth(c.sections,c.images,c._activeSlider);c.sliders[c._activeSlider].style[c.config.positionField]="".concat(e,"px");var o=e-i;c.sections[c._activeSlider].style[c.config.sizeField]="".concat(o,"px"),c.sections[c._activeSlider+1].style[c.config.sizeField]="".concat(c._beforeNextWidth-(o-c._beforeActiveWidth),"px"),c._setLeftToImages(c.sections,c.images),c._slidesFollowSections(c.sections,c.sliders)}};c.container.addEventListener("click",l);for(var t=function(t){var e=c.sliders[t];r.setMultiEvents(e,["mousedown","touchstart"],function(){c._activeSlider=t,c._beforeActiveWidth=c.sections[t].getBoundingClientRect()[c.config.sizeField],c._beforeNextWidth=c.sections[t+1].getBoundingClientRect()[c.config.sizeField],e.classList.add("b-dics__slider--active"),r.setMultiEvents(c.container,["mousemove","touchmove"],l)})},e=0;e<c.sliders.length;e++)t(e);r.setMultiEvents(document.body,["mouseup","touchend"],function(){var t=c.container.querySelectorAll(".b-dics__slider--active"),e=!0,i=!1,o=void 0;try{for(var n,s=t[Symbol.iterator]();!(e=(n=s.next()).done);e=!0)n.value.classList.remove("b-dics__slider--active"),r.removeMultiEvents(c.container,["mousemove","touchmove"],l)}catch(t){i=!0,o=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw o}}}),r.setMultiEvents(window,["resize","load"],function(){c._setImageSize()})},c.prototype._beforeSectionsWidth=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n];if(n===i)return o;o+=s.getBoundingClientRect()[this.config.sizeField]}},c.prototype._calcContainerHeight=function(){var t=this.images[0].clientHeight,e=this.images[0].clientWidth;return this.options.container.getBoundingClientRect().width/e*t},c.prototype._setLeftToImages=function(t,e){for(var i=0,o=0;o<e.length;o++){e[o].style[this.config.positionField]="-".concat(i,"px"),i+=t[o].getBoundingClientRect()[this.config.sizeField]}},c.prototype._slidesFollowSections=function(t,e){for(var i=0,o=0;o<t.length;o++){i+=t[o].getBoundingClientRect()[this.config.sizeField],o===this._activeSlider&&(e[o].style[this.config.positionField]="".concat(i,"px"))}},c.prototype._disableImageDrag=function(){for(var t=0;t<this.images.length;t++)this.sliders[t].addEventListener("dragstart",function(t){t.preventDefault()}),this.images[t].addEventListener("dragstart",function(t){t.preventDefault()})},c.prototype._applyFilter=function(t,e,i){i&&(t.style.filter=i[e])},c.prototype._applyGlobalClass=function(t){var e=t.container;e.classList.add("b-dics"),t.hideTexts&&e.classList.add("b-dics--hide-texts"),"vertical"===t.linesOrientation&&e.classList.add("b-dics--vertical"),"center"===t.textPosition?e.classList.add("b-dics--tp-center"):"bottom"===t.textPosition?e.classList.add("b-dics--tp-bottom"):"left"===t.textPosition?e.classList.add("b-dics--tp-left"):"right"===t.textPosition&&e.classList.add("b-dics--tp-right")},c.prototype._createAltText=function(t,e){var i=t.getAttribute("alt");if(i){var o=this._createElement("p","b-dics__text");o.appendChild(document.createTextNode(i)),e.appendChild(o)}},c.prototype._rotate=function(t,e){t.style.rotate="-".concat(this.options.rotate),e.style.rotate=this.options.rotate},c.prototype._removeActiveElements=function(){var t=c.container.querySelectorAll(".b-dics__slider--active"),e=!0,i=!1,o=void 0;try{for(var n,s=t[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){n.value.classList.remove("b-dics__slider--active"),r.removeMultiEvents(c.container,["mousemove","touchmove"],c.prototype._removeActiveElements)}}catch(t){i=!0,o=t}finally{try{e||null==s.return||s.return()}finally{if(i)throw o}}},c.prototype._setOrientation=function(t){this.config={},this.config.pageField="vertical"===t?(this.config.offsetSizeField="offsetHeight",this.config.offsetPositionField="offsetTop",this.config.sizeField="height",this.config.positionField="top",this.config.clientField="clientY","pageY"):(this.config.offsetSizeField="offsetWidth",this.config.offsetPositionField="offsetLeft",this.config.sizeField="width",this.config.positionField="left",this.config.clientField="clientX","pageX")},c.prototype._calcPosition=function(t){var e=this.container.getBoundingClientRect(),i=isNaN(t[this.config.clientField])?t.touches[0][this.config.clientField]:t[this.config.clientField];return e[this.config.positionField]<i?i-e[this.config.positionField]:0},c.prototype._setImageSize=function(){this.images[0].style[this.config.sizeField]=this.container[this.config.offsetSizeField]+"px"};var r={extend:function(t,e,n){for(var i in e)e.hasOwnProperty(i)&&s(t,e[i]);function s(t,e){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if("Object"===r.getConstructor(o))t[i]||(t[i]={}),s(t[i],o);else{if(n.clearEmpty&&null==o)continue;t[i]=o}}}return t},setMultiEvents:function(t,e,i){for(var o=0;o<e.length;o++)t.addEventListener(e[o],i)},removeMultiEvents:function(t,e,i){for(var o=0;o<e.length;o++)t.removeEventListener(e[o],i,!1)},getConstructor:function(t){return Object.prototype.toString.call(t).slice(8,-1)}};"function"==typeof define&&define.amd?define("Dics",[],function(){return c}):(void 0).Dics=c}();