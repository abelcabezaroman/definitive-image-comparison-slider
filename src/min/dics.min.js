!function(t){const e={container:null,filters:null,hideTexts:null,textPosition:"top",linesOrientation:"horizontal",rotate:0};function i(t){this.options=o.extend({},[e,t],{clearEmpty:!0}),this.container=this.options.container,this._setOrientation(this.options.linesOrientation,this.container),this.images=this._getImages(),this.sliders=[],this._activeSlider=null,null==this.container&&console.error("Container element not found!"),this._build(),this.sections=this._getSections(),this._setEvents()}i.prototype._build=function(){let t=this;t._applyGlobalClass(t.options);let e=t.images.length;t.options.container.style.height=`${t._calcContainerHeight()}px`;let i=t.container[t.config.offsetSizeField]/e;for(let o=0;o<e;o++){let n=t.images[o],s=t._createElement("div","b-dics__section"),l=t._createElement("div","b-dics__image-container"),c=t._createElement("div","b-dics__slider");t._applyFilter(n,o,t.options.filters),t._createAltText(n,l),t._rotate(n,l),s.setAttribute("data-function","b-dics__section"),s.style[this.config.sizeField]=`${i}px`,c.style[this.config.positionField]=`${i*(o+1)}px`,this.sliders.push(c),n.classList.add("b-dics__image"),s.appendChild(l),l.appendChild(n),o<e-1&&s.appendChild(c),t.container.appendChild(s),n.style[this.config.positionField]=`${o*-i}px`}},i.prototype._getImages=function(){return this.container.querySelectorAll("img")},i.prototype._getSections=function(){return this.container.querySelectorAll('[data-function="b-dics__section"]')},i.prototype._createElement=function(t,e){let i=document.createElement(t);return i.classList.add(e),i},i.prototype._setEvents=function(){let t=this;t._disableImageDrag();let e=function(e){let i=t._calcPosition(e);if(i<t.sections[t._activeSlider+1][t.config.offsetPositionField]+t.sections[t._activeSlider+1][t.config.offsetSizeField]&&(0===t._activeSlider||i>t.sections[t._activeSlider-1][t.config.offsetPositionField]+t.sections[t._activeSlider-1][t.config.offsetSizeField])){let e=t._beforeSectionsWidth(t.sections,t.images,t._activeSlider);t.sliders[t._activeSlider].style[t.config.positionField]=`${i}px`;let o=i-e;t.sections[t._activeSlider].style[t.config.sizeField]=`${o}px`,t.sections[t._activeSlider+1].style[t.config.sizeField]=`${t._beforeNextWidth-(o-t._beforeActiveWidth)}px`,t._setLeftToImages(t.sections,t.images),t._slidesFollowSections(t.sections,t.sliders)}};t.container.addEventListener("click",e);for(let i=0;i<t.sliders.length;i++){let n=t.sliders[i];o.setMultiEvents(n,["mousedown","touchstart"],function(){t._activeSlider=i,t._beforeActiveWidth=t.sections[i].getBoundingClientRect()[t.config.sizeField],t._beforeNextWidth=t.sections[i+1].getBoundingClientRect()[t.config.sizeField],n.classList.add("b-dics__slider--active"),o.setMultiEvents(t.container,["mousemove","touchmove"],e)})}o.setMultiEvents(document.body,["mouseup","touchend"],function(){let i=t.container.querySelectorAll(".b-dics__slider--active");for(let n of i)n.classList.remove("b-dics__slider--active"),o.removeMultiEvents(t.container,["mousemove","touchmove"],e)}),o.setMultiEvents(window,["resize","load"],function(){t._setImageSize()})},i.prototype._beforeSectionsWidth=function(t,e,i){let o=0;for(let e=0;e<t.length;e++){let n=t[e];if(e===i)return o;o+=n.getBoundingClientRect()[this.config.sizeField]}},i.prototype._calcContainerHeight=function(){let t=this.images[0].clientHeight,e=this.images[0].clientWidth;return this.options.container.getBoundingClientRect().width/e*t},i.prototype._setLeftToImages=function(t,e){let i=0;for(let o=0;o<e.length;o++){e[o].style[this.config.positionField]=`-${i}px`,i+=t[o].getBoundingClientRect()[this.config.sizeField]}},i.prototype._slidesFollowSections=function(t,e){let i=0;for(let o=0;o<t.length;o++){i+=t[o].getBoundingClientRect()[this.config.sizeField],o===this._activeSlider&&(e[o].style[this.config.positionField]=`${i}px`)}},i.prototype._disableImageDrag=function(){for(let t=0;t<this.images.length;t++)this.sliders[t].addEventListener("dragstart",function(t){t.preventDefault()}),this.images[t].addEventListener("dragstart",function(t){t.preventDefault()})},i.prototype._applyFilter=function(t,e,i){i&&(t.style.filter=i[e])},i.prototype._applyGlobalClass=function(t){let e=t.container;e.classList.add("b-dics"),t.hideTexts&&e.classList.add("b-dics--hide-texts"),"vertical"===t.linesOrientation&&e.classList.add("b-dics--vertical"),"center"===t.textPosition?e.classList.add("b-dics--tp-center"):"bottom"===t.textPosition?e.classList.add("b-dics--tp-bottom"):"left"===t.textPosition?e.classList.add("b-dics--tp-left"):"right"===t.textPosition&&e.classList.add("b-dics--tp-right")},i.prototype._createAltText=function(t,e){let i=t.getAttribute("alt");if(i){let t=this._createElement("p","b-dics__text");t.appendChild(document.createTextNode(i)),e.appendChild(t)}},i.prototype._rotate=function(t,e){t.style.rotate=`-${this.options.rotate}`,e.style.rotate=this.options.rotate},i.prototype._removeActiveElements=function(){let t=i.container.querySelectorAll(".b-dics__slider--active");for(let e of t)e.classList.remove("b-dics__slider--active"),o.removeMultiEvents(i.container,["mousemove","touchmove"],i.prototype._removeActiveElements)},i.prototype._setOrientation=function(t){this.config={},"vertical"===t?(this.config.offsetSizeField="offsetHeight",this.config.offsetPositionField="offsetTop",this.config.sizeField="height",this.config.positionField="top",this.config.clientField="clientY",this.config.pageField="pageY"):(this.config.offsetSizeField="offsetWidth",this.config.offsetPositionField="offsetLeft",this.config.sizeField="width",this.config.positionField="left",this.config.clientField="clientX",this.config.pageField="pageX")},i.prototype._calcPosition=function(t){let e=this.container.getBoundingClientRect(),i=isNaN(t[this.config.clientField])?t.touches[0][this.config.clientField]:t[this.config.clientField];return e[this.config.positionField]<i?i-e[this.config.positionField]:0},i.prototype._setImageSize=function(){this.images[0].style[this.config.sizeField]=this.container[this.config.offsetSizeField]+"px"};let o={extend:function(t,e,i){for(let i in e)e.hasOwnProperty(i)&&n(t,e[i]);function n(t,e){for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];if("Object"===o.getConstructor(l))t[s]||(t[s]={}),n(t[s],l);else{if(i.clearEmpty&&null==l)continue;t[s]=l}}}return t},setMultiEvents:function(t,e,i){for(let o=0;o<e.length;o++)t.addEventListener(e[o],i)},removeMultiEvents:function(t,e,i){for(let o=0;o<e.length;o++)t.removeEventListener(e[o],i,!1)},getConstructor:function(t){return Object.prototype.toString.call(t).slice(8,-1)}};"function"==typeof define&&define.amd?define("Dics",[],function(){return i}):t.Dics=i}(this);